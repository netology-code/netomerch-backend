name: ci-cd

on:
  push:

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}
  MODE: dev

jobs:
  tests:
   runs-on: ubuntu-latest
   steps:
     - uses: actions/checkout@v2
     - uses: actions/setup-node@v2
     - name: Run tests
       working-directory: ./netomerch-backend
       with:
         node-version: '16'
     - run: npm install
     - run: nmp run build
     - run: npm test
